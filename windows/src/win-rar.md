# winrar.md

可以从 winrar 的菜单栏 `帮助--帮助主题` 找到 帮助文件.
或者使用 `-?` 选项获取帮助

```cmd
C:\Program Files\WinRAR\Rar.exe -?
```

## 命令行语法

常规的命令行语法描述如下:

```bash
rar <命令> -<开关 1> -<开关 N> <压缩文件> <文件...> <@列表文件...> <解压到路径\>
```

命令 作用

+ `a`  添加文件到压缩文件
+ `c`  添加添加压缩文件注释
+ `ch`  更改压缩文件参数
+ `cw`  写入压缩文件注释到文件
+ `d`  从压缩文件删除文件
+ `e`  提取文件不带压缩路径
+ `f`  刷新压缩文件中的文件
+ `i[参数]=<字符串>`  在压缩文件中查找字符串
+ `k`  锁定压缩文件
+ `l[t[a],b]`  列出压缩文件内容 `[technical[all], bare]`
+ `m[f]` 移动到压缩文件 `[仅文件]`
+ `p`  打印文件到标准输出
+ `r`  修复压缩文件
+ `rc`  重新构建丢失的卷
+ `rn`  重命名归档的文件
+ `rr[N]`  添加数据恢复记录
+ `rv[N]`  创建恢复卷
+ `s[名称|-]`  转换压缩文件到或从 SFX
+ `t`  测试压缩文件的文件
+ `u`  更新压缩文件中的文件
+ `v[t[a],b]`  详细列出压缩文件的内容 `[technical[all],bare]`
+ `x`  解压文件带完整路径

## 完整路径解压缩

`x`; 以完整路径名称从压缩文件解压压缩

以完整路径解压文件和文件夹.
保存在压缩文件中的文件夹架构, 将会完整的还原恢复.
此命令行等同于 压缩文件管理 命令 解压

类似的方法有 命令 `e`, 此命令可以解压文件到当前文件夹或者指定的文件夹.
例如, 下列命令 会从压缩文件解压 `*.ttf` 字体文件到当前文件夹

```bash
WinRAR x Fonts *.ttf
```

但下面命令会从压缩文件解压 `*.ttf` 字体文件到文件夹 `NewFonts`

```bash
WinRAR x Fonts *.ttf NewFonts\
```

在上面的例子, 您必须使用附加的 `倒斜线` 来表示 `目标文件夹`.

## 参数 `-EP1` 从名称中排除主文件夹

不要存储或解压在命令行所输入的路径.

例子:
将 `tmp` 文件夹内的全部文件和文件夹添加到压缩文件 `test`,
但是从压缩的路径名排除 `tmp\`

```bash
WinRAR a -ep1 -r test tmp\*
```

它等同于命令:

```bash
cd tmp
WinRAR a -r ..\test
cd ..
```

解压文件并匹配 `images\*` 掩码到 `dest\` 目录,  但从已创建文件的路径里删除 `images\`

```bash
WinRAR x -ep1 data 'images\*' 'dest\'
```

例如解压求解器sdk, 记得使用引号转义

```bash
`C:\Program Files\WinRAR\Rar.exe` x -y develop -ep1 'develop\*' 'dest\'
```

## 消息开关 `-id[c,d,n,p,q]`

[RAR console version User's Manual](https://gist.github.com/YenForYang/5953ad8355cf32188aa75c0139cc9261)

显示或禁用信息.

+ 开关 `-idc` 禁用版权字符串, opyright string
+ 开关 `-idd` 禁用操作结束时的 `Done` 字符串.

+ 开关 `-idn` 在 `创建`, `测试` 或 `提取` archive时禁用 archived名称输出,
当解压文件到不存在的目录, 不会输出创建文件夹的消息.
它还会影响其他一些存档处理命令. 它不会隐藏其他信息, 和总百分比指示器.
开启 `-idn` 可能轻微影响视觉效果,
如百分比指示器覆盖错误信息的最后几个字符.

+ 开关 `-idp` 会禁用百分比指示器.
+ 开关 `-idq` 打开静音模式, 因此只显示 error信息和 question.

允许同时使用多个修饰符, 因此写成 `-idcdp` 是合法的.
