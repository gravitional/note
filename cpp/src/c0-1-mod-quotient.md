# c++ 取模和取余

[C/C++中的取模和取余运算](https://www.jianshu.com/p/9514ebdb7413)

天在看<C++Primer>中文版时, 遇到一个问题, 如下:

C++中, 把负值赋给unsigned对象是完全合法的, 其结果是该负数对该类型的取值个数 `求模` 后的值.
所以, 如果把 `-1` 赋给 `8` 位的 `unsigned char`,
那么结果是 `255`, 因为 `255` 是 `-1` 对 `256` 求模后的值.

对于 -1 对 256 取模的值为 255, 不明白怎么得出的结果,
所以在查询资料之后, 对 `取余` 和 `取模` 进行记录, 区分他们的区别, 以防下次再出错.

对于整型数a, b来说, 取余和取模的运算方法为:

+ 求整数商: `c = a/b`;
+ 取余和取模: `r = a - c*b`;

求余和求模运算的区别在于: 取余运算在取c的值时, 向0 方向舍入;
而取模运算在计算c的值时, 向负无穷方向舍入.

例如: `a=-7`, `b=4`

+ 取余时: `c=-1`(向0方向舍入), `r=-3`, 即余数为 `-3`
+ 取模时: `c=-2`(向负无穷方向舍入), `r=1`, 即模为 `1`

可以归纳为:

+ 当 `a` 和 `b` 符号一致时, 求模运算和求余运算所得的 `c` 的值一致, 因此结果一致.

+ 当符号不一致时,
    + 求模运算结果的符号和 `b`(除数) 一致,
    + 求余运算结果的符号和 `a`(被除数)一致.

在计算机中, 一般被除数都是正数,
所以如果被除数是 `负数`, `求模` 得到正数, `求余` 得到负数.

例如, 用 `%` 表示取余, `mod` 表示取模, `a<0` 且 `b>0`
`a mod b = a % b + b`

注: 另外在各个环境下%运算符的含义不同, 比如c/c++, java 为取余, 而python则为取模.
