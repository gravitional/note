# 赋值技巧

[理解上下文](https://perl-book.junmajinlong.com/ch3/3_context.html)

下面是一些结合上下文后的赋值技巧, 我无法总结全部, 只能总结一些常见的技巧.

```perl
## 1.标量上下文中的列表: 得到最后一个元素
##   赋值语句返回标量左值
$a = (11,22);   # a=22, 赋值语句返回22
$a = $b = (11,22); # a和b都等于22
# 下面func()最后返回空列表, 标量上下文的赋值返回0, 布尔假
while (($a, $b) = func()){}

# 赋值语句返回的标量左值可被修改
chomp ($str = "hello\n"); # 将会去除$str中的换行符
($a = $b) =~ s/xxx/yyy/;  # 将会修改变量a
($a += 2) *= 2;           # 将会对a加2后乘2

## 2.列表上下文中的列表: 逐个赋值
##   左边多的变量被赋值为undef, 右边多的元素被丢弃
##   赋值语句本身的返回值:
##     在标量上下文: 返回右边列表的长度
##     在列表上下文: 返回左边列表
($a, $b) = (11,22);  # 赋值语句返回2或(11,22)
($a) = (11,22);      # 赋值语句返回2或(11)
() = (11,22);        # 赋值语句返回2或()
($a,$b,$c) = (11,22);  # 赋值语句返回2或(11,22,undef)
($a,undef,$c) = (11,22,33); # 赋值语句返回3或(11,undef,33)

$num = () = <>;     # 将已读取的行数赋值给num
$num = @arr = <>;   # 同上
@arr=($a,$b)=(11,22,33);  # @arr=(11,22),$a=11,$b=22
```
